{"version":3,"sources":["webpack:///./src/views/traffic/trafficContrast.vue?961d","webpack:///./src/views/traffic/trafficContrast.vue?b19b","webpack:///./src/views/traffic/trafficContrast.vue?02ca","webpack:///./src/views/traffic/trafficContrast.vue","webpack:///./src/views/traffic/trafficContrast.vue?46f7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","staticClass","attrs","model","value","callback","$$v","value2","expression","disabled","on","btn","exportExcel","directives","name","rawName","tableData","getSummaries","dateFormat","numberFormat","staticRenderFns","Date","loading","titleLabel","pickerOptions","disabledDate","time","getTime","now","h","column","$index","label","split","wb","utils","table_to_book","document","querySelector","raw","eDate","formatDate","re_month","wbout","write","bookType","bookSST","type","saveAs","Blob","e","console","log","num","toString","indexOf","replace","$1","$2","getData","s","d","get","params","start","end","then","res","status","data","forEach","item","index","pdate","pgateway_b","pkfc","prest","pck","pqbj","pall","psquare","phm","pgateway_lz","ppark","err","date","month","getMonth","day","getDate","year","getFullYear","length","join","param","columns","sums","values","map","Number","property","every","isNaN","reduce","prev","curr","toLocaleString","row","rowIndex","re_arr","nowMonth","nowYear","monthStartDate","monthEndDate","cellValue","XXXXTime","parse","dayNames","getUTCDay","component"],"mappings":"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","file":"static/js/chunk-19f91474.c2a587ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#409eff\",\"color\":\"#ffffff\",\"padding\":\"10px\"}},[_vm._v(\" 花果园购物中心1-各入口客流去年同期对比统计(全天) \")]),_c('el-row',[_c('el-col',[_c('div',{staticClass:\"block\"},[_c('span',{staticClass:\"demonstration mx-5\"},[_vm._v(\"按月查询\")]),_c('el-date-picker',{attrs:{\"type\":\"month\",\"placeholder\":\"选择月\"},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}}),_c('el-button',{staticClass:\"ma-5\",attrs:{\"icon\":\"el-icon-search\",\"circle\":\"\",\"disabled\":_vm.disabled},on:{\"click\":_vm.btn}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")])],1)])],1),_c('el-row',[_c('el-col',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"show-summary\":\"\",\"summary-method\":_vm.getSummaries,\"id\":\"export-table\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"70\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"prop\":\"pdate\",\"label\":\"日期\",\"width\":\"120\",\"formatter\":_vm.dateFormat}}),_c('el-table-column',{attrs:{\"label\":\"花果园购物中心1-各入口客流去年同期对比统计(全天)\"}},[_c('el-table-column',{attrs:{\"prop\":\"psquare\",\"label\":\"沿湖广场\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"psquare_last\",\"label\":\"沿湖广场(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"phm\",\"label\":\"H&M\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"phm_last\",\"label\":\"H&M(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pgateway_lz\",\"label\":\"人行天桥(乐转旁)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pgateway_lz_last\",\"label\":\"人行天桥(乐转旁)(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pgateway_b\",\"label\":\"人行天桥(必胜客旁)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pgateway_b_last\",\"label\":\"人行天桥(必胜客旁)(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pkfc\",\"label\":\"肯德基\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pkfc_last\",\"label\":\"肯德基(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pqbj\",\"label\":\"一楼黔宝金店旁\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pqbj_last\",\"label\":\"一楼黔宝金店旁(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pck\",\"label\":\"CKJeans\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pck_last\",\"label\":\"CKJeans(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"prest\",\"label\":\"食尚汇门厅旁\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"prest_last\",\"label\":\"食尚汇门厅旁(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"ppark\",\"label\":\"停车场\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"ppark_last\",\"label\":\"停车场(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pone\",\"label\":\"一期天桥\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pone_last\",\"label\":\"一期天桥(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"eone\",\"label\":\"E区天桥\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"eone_last\",\"label\":\"E区天桥(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pall\",\"label\":\"总计\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"pall_last\",\"label\":\"总计(去年同期)\",\"formatter\":_vm.numberFormat,\"width\":\"100\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport Axios from \"axios\";\nimport * as fecha from \"element-ui/lib/utils/date\";\nimport FileSaver from \"file-saver\";\nimport XLSX from \"xlsx\";\n@Component\nexport default class ComponentName extends Vue {\n  value2: Date = new Date();\n  loading: boolean = false;\n  disabled: boolean = false;\n  tableData: Array<object> = [];\n  titleLabel: string = \" 客流(人次)\" + \"/\" + \"10:00~22:00\";\n\n  pickerOptions: any = {\n    disabledDate(time: any) {\n      return time.getTime() >= Date.now();\n    },\n  };\n\n  // public value2: Array<string> = [\n  //   this.formatDate(\n  //     new Date(new Date().setTime(new Date().getTime() - 3600 * 1000 * 24 * 1))\n  //   ),\n  //   this.formatDate(\n  //     new Date(new Date().setTime(new Date().getTime() - 3600 * 1000 * 24 * 1))\n  //   ),\n  // ];\n  //public value2:string=this.formatDate(new Date(new Date().setTime(new Date().getTime() - 3600 * 1000 * 24 * 1)));\n\n  private renderheader(h: any, { column, $index }: any) {\n    return h(\"span\", {}, [\n      h(\"span\", {}, column.label.split(\"/\")[0]),\n      h(\"br\"),\n      h(\"span\", {}, column.label.split(\"/\")[1]),\n    ]);\n  }\n\n  public exportExcel() {\n    // 生成工作簿对象\n    // var wb = XLSX.utils.table_to_book(document.querySelector(\"#export-table\"),{dateNF:'yyyy-mm-dd ([$-zh-cn]dddd)', raw: true});\n    var wb = XLSX.utils.table_to_book(document.querySelector(\"#export-table\"),{raw: true});\n    // console.log(wb);\n    // console.log(XLSX.SSF.format('#,###', 12345789));\n\n    var eDate = this.formatDate(this.re_month(this.value2)[0]).split('-');\n    // 获取二进制字符串作为输出\n    var wbout = XLSX.write(wb, {\n      bookType: \"xlsx\",\n      bookSST: true,\n      type: \"array\",\n    });\n    try {\n      FileSaver.saveAs(\n        //Blob 对象表示一个不可变、原始数据的类文件对象。\n        //Blob 表示的不一定是JavaScript原生格式的数据。\n        //File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。\n        //返回一个新创建的 Blob 对象，其内容由参数中给定的数组串联组成。\n        new Blob([wbout], { type: \"application/octet-stream\" }),\n        //设置导出文件名称\n        \"trafficContrast\"+eDate[0]+eDate[1]+\".xlsx\"\n      );\n    } catch (e) {\n      if (typeof console !== \"undefined\") console.log(e, wbout);\n    }\n    return wbout;\n  }\n\n  public thousandSeparator(num: number) {\n    return (\n      num &&\n      (num.toString().indexOf(\".\") != -1\n        ? num.toString().replace(/(\\d)(?=(\\d{3})+\\.)/g, function ($1, $2) {\n            return $2 + \",\";\n          })\n        : num.toString().replace(/(\\d)(?=(\\d{3})+\\b)/g, function ($1, $2) {\n            return $2 + \",\";\n          }))\n    );\n  }\n\n  btn() {\n    //console.log(this.startTime.setTime(this.star));\n    // console.log(this.value2);\n    // console.log(this.thousandSeparator(4656262.262))\n\n    // this.tableData = [];\n    //console.log(this.value2.toString())\n    //console.log(this.re_month(this.value2)[0]);\n    //console.log(this.re_month(this.value2)[1]);\n    this.getData(\n      this.formatDate(this.re_month(this.value2)[0]),\n      this.formatDate(this.re_month(this.value2)[1])\n    );\n  }\n  private mounted() {\n    //console.log(this.value2);\n    //this.getData(this.value2[0].toString(), this.value2[1].toString());\n  }\n  public getData(s: string, d: string) {\n    this.disabled = true;\n    this.loading = true;\n    Axios.get(\"http://58.42.231.98:8860/api/ptraffic/compare\", {\n      params: {\n        start: s,\n        end: d,\n      },\n    })\n      .then((res) => {\n        if (res.status == 200) {\n          //{\"tbheader\":\"psquare\",\"tbdata\":2000},{\"tbheader\":\"phm\",\"tbdata\":3000}\n          this.tableData = [];\n          res.data.forEach((item, index) => {\n            if (new Date(item.pdate) < new Date(\"2020-05-16\")) {\n              item.pgateway_b = 0;\n              item.pkfc = 0;\n              item.prest = 0;\n            }\n            if (new Date(item.pdate) < new Date(\"2020-05-24\")) {\n              item.pck = 0;\n              item.pqbj = 0;\n            }\n            //   <el-table-column prop=\"psquare\" label=\"沿湖广场\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"phm\" label=\"H&M\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"pgateway\" label=\"人行天桥(乐转旁)\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"pgatewaypiz\" label=\"人行天桥(必胜客旁)\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"pkfc\" label=\"肯德基\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"prest\" label=\"食尚汇门厅旁\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            // <el-table-column prop=\"pparking\" label=\"停车场\" :formatter=\"numberFormat\" width=\"100\"></el-table-column>\n            item.pall =\n              item.psquare +\n              item.phm +\n              item.pgateway_lz +\n              item.pgateway_b +\n              item.pkfc +\n              item.prest +\n              item.ppark +\n              item.pck +\n              item.pqbj;\n          });\n          this.tableData = res.data;\n\n          // let resData = res.data[0];\n          // let tbheader;\n          // for (let j in resData) {\n          //   switch (j) {\n          //     case \"psquare\":\n          //       tbheader = \"沿湖广场\";\n          //       break;\n          //     case \"phm\":\n          //       tbheader = \"H&M\";\n          //       break;\n          //     case \"pgateway\":\n          //       tbheader = \"人行天桥\";\n          //       break;\n          //     case \"pparking\":\n          //       tbheader = \"停车场\";\n          //       break;\n          //     default:\n          //       continue;\n          //   }\n\n          //   this.tableData.push({\n          //     tbheader: tbheader,\n          //     tbdata: this.thousandSeparator(resData[j]),\n          //   });\n          //   //console.log(j+\":\"+resData[j]);\n          // }\n          this.loading = false;\n          this.disabled = false;\n          //console.log(this.tableData);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        this.disabled = false;\n      });\n  }\n\n  public formatDate(date: Date) {\n    var d = date,\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n\n    return [year, month, day].join(\"-\");\n  }\n  public getSummaries(param: any) {\n    //console.log(param);\n    const { columns, data } = param;\n    const sums: any = [];\n    columns.forEach((column: any, index: any) => {\n      if (index === 0) {\n        sums[index] = \"总计\";\n        return;\n      }\n      const values = data.map((item: any) => Number(item[column.property]));\n      if (!values.every((value: any) => isNaN(value))) {\n        sums[index] = values.reduce((prev: any, curr: any) => {\n          const value = Number(curr);\n          if (!isNaN(value)) {\n            return prev + curr;\n          } else {\n            return prev;\n          }\n        }, 0);\n        sums[index] = sums[index].toLocaleString();\n      } else {\n        sums[index] = \"N/A\";\n      }\n      return sums;\n      // const values:any = data.map((item: any) => Number(item[column.property].replace(',','')));\n\n      // if (!values.every((value: any) => isNaN(value))) {\n      //   sums[index] = values.reduce((prev:any, curr:any) => {\n      //     const value = Number(curr);\n      //     if (!isNaN(value)) {\n      //       return prev + curr;\n      //     } else {\n      //       return prev;\n      //     }\n      //   }, 0);\n      //   sums[index] = this.thousandSeparator(sums[index]) + '';\n      // } else {\n      //   sums[index] = '';\n      // }\n    });\n\n    //console.log(sums)\n\n    return sums;\n  }\n  public tableRowClassName({ row, rowIndex }: any) {\n    //console.log(row['tbdata'].replace(\",\",\"\"))\n    if (row[\"tbdata\"].replace(\",\", \"\") >= 5000) {\n      return \"warning-row\";\n    }\n    return \"\";\n  }\n  public re_month(d: Date) {\n    let re_arr = [];\n    let now = new Date(); //当前日期\n    let nowMonth = d.getMonth(); //当前月\n    let nowYear = d.getFullYear(); //当前年\n    //本月的开始时间\n    let monthStartDate = new Date(nowYear, nowMonth, 1);\n    //本月的结束时间\n    let monthEndDate = new Date(nowYear, nowMonth + 1, 0);\n    // let timeStar=Date.parse(monthStartDate)/1000;//s\n    // let timeEnd=Date.parse(monthEndDate)/1000;//s\n    re_arr = [monthStartDate, monthEndDate];\n    return re_arr;\n  }\n  //列表日期时间格式化\n  public dateFormat(row: any, column: any, cellValue: any) {\n    //    let aa = new Date(cellValue).toUTCString();\n    let XXXXTime = Date.parse(cellValue);\n    //console.log(XXXXTime);\n    let dayNames: any[] = [\n      \"周一\",\n      \"周二\",\n      \"周三\",\n      \"周四\",\n      \"周五\",\n      \"周六\",\n      \"周日\",\n    ];\n    return cellValue\n      ? fecha.format(new Date(XXXXTime - 8 * 3600 * 1000), \"yyyy-MM-dd\") +\n          \" (\" +\n          dayNames[new Date(XXXXTime - 8 * 3600 * 1000).getUTCDay()] +\n          \")\"\n      : \"\";\n  }\n  public numberFormat(row: any, column: any, cellValue: any) {\n    return cellValue.toLocaleString();\n  }\n}\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--13-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./trafficContrast.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--13-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./trafficContrast.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./trafficContrast.vue?vue&type=template&id=205b76a0&\"\nimport script from \"./trafficContrast.vue?vue&type=script&lang=ts&\"\nexport * from \"./trafficContrast.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./trafficContrast.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./trafficContrast.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}